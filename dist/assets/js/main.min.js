const input_form=document.querySelector("#form"),input_text=document.querySelector(".form-control"),emptyList=document.querySelector("#emptyList"),tasks_list=document.querySelector("#tasksList");let tasks=[];function addTasks(t){t.preventDefault();const e=input_text.value,s={id:Date.now(),text:e,done:!1};tasks.push(s),renderTask(s),input_text.value="",input_text.focus(),checkEmpty_list(),saveToLocalStorage()}function deleteTask(t){if("delete"===t.target.dataset.action){{const e=t.target.closest("li"),s=Number(e.id);tasks=tasks.filter((t=>t.id!==s)),e.remove()}checkEmpty_list(),saveToLocalStorage()}}function doneTask(t){if("done"==t.target.dataset.action){const e=t.target.closest("li"),s=Number(e.id),a=tasks.find((t=>t.id===s));a.done=!a.done;e.querySelector(".task-title").classList.toggle("task-title--done"),saveToLocalStorage()}}function checkEmpty_list(){if(0===tasks.length){const t='<li id="emptyList" class="list-group-item empty-list">\n    <img src="./img/priority tasks_icon.png" alt="Empty" width="48" class="mt-3" />\n    <div class="empty-list__title">----------</div>\n  </li>';tasks_list.insertAdjacentHTML("afterbegin",t)}if(tasks.length>0){const t=document.querySelector("#emptyList");t&&t.remove()}}function saveToLocalStorage(){localStorage.setItem("tasks",JSON.stringify(tasks))}function renderTask(t){const e=t.done?"task-title task-title--done":"task-title",s=`<li id ="${t.id}" class="list-group-item d-flex justify-content-between task-item">\n      <span class="${e}">${t.text}</span>\n      <div class="task-item__buttons">\n          <button type="button" data-action="done" class="btn-action">\n              <img src="./img/tick.svg" alt="Done" width="18" height="18">\n          </button>\n          <button type="button" data-action="delete" class="btn-action">\n              <img src="./img/cross.svg" alt="Done" width="18" height="18">\n          </button>\n      </div>\n    </li>`;tasks_list.insertAdjacentHTML("beforeend",s)}input_form.addEventListener("submit",addTasks),tasks_list.addEventListener("click",doneTask),tasks_list.addEventListener("click",deleteTask),localStorage.getItem("tasks")&&(tasks=JSON.parse(localStorage.getItem("tasks")),tasks.forEach((t=>renderTask(t)))),checkEmpty_list();